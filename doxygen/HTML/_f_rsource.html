<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mechanics of Defect Evolution Library: Getting Started: a simple FR source</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="UCLA_LOGO.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mechanics of Defect Evolution Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting Started: a simple FR source </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this tutorial we cover the necessary steps to get a minimal DD simulation running with MODEL. All files necessary to compile and run this tutorial are located in &lt;MODELDIR&gt;/tutorials/DislocationDynamics/FRsource.</p>
<h1><a class="anchor" id="FRsource_main"></a>
The source file (main.cpp)</h1>
<p>The source file is main.cpp. This file contains the following code: </p><div class="fragment"></div><!-- fragment --><p> If you know a little C++, this code is pretty self-explanatory. After including the necessary headers, all we do in the main function is:</p><ul>
<li>create an instance, named DN, of type <a class="el" href="classmodel_1_1_dislocation_network.html">DislocationNetwork</a> by specifying a series of template parameters. These parameter are:<ul>
<li>3 is the dimensionality of the space (three dimensions)</li>
<li>1 is the degree of parametric continuity at the SplineNode(s): 0= position continuity, 1= position and tangent continuity, 2 = position, tangent, and curvature continuity.</li>
<li><a class="el" href="structmodel_1_1_catmull_rom.html">CatmullRom</a> is the type of splines used. Alternatively, you can use <a class="el" href="structmodel_1_1_hermite.html">Hermite</a> splines</li>
<li><a class="el" href="structmodel_1_1_uniform_open.html" title="Class template defining the GaussLegendre rules for determination of quadrature abscissas and weights...">UniformOpen</a> is the type of quadrature used. Alternatively you can use <a class="el" href="structmodel_1_1_gauss_legendre.html" title="Class template defining the GaussLegendre rules for determination of quadrature abscissas and weights...">GaussLegendre</a>.</li>
</ul>
</li>
<li>call the method DislocationNetwork::runSteps() on DN. This runs a fixed number of simulations time steps defined by the variable <b>Nsteps</b> in the input file <b>DDinput.txt</b> (see below). Alternatively you can run the simulation for a fixed amount of time (see DislocationNetwork::runTime()). You can also call the two methods consecutively or place them in a more complex for loop.</li>
</ul>
<h1><a class="anchor" id="FRsource_makefile"></a>
Compiling: the Makefile</h1>
<p>If all necessary external libraries have been installed (see DD_installation), compilation of the source code above can conveniently be done using the provided Makefile. In order to use the Makefile, first change the working directory of your terminal into the directory containing the files of this tutorial: </p><pre class="fragment">cd &lt;MODELDIR&gt;/tutorials/DislocationDynamics/FRsource
</pre><p>The same Makefile can now be used to compile both the Open-MP version and the Open-MPI version of the code. The Open-MP version can be compiled executing the following command in your terminal: </p><pre class="fragment">make DDomp
</pre><p> This compiles the source code into the executable <b>DDomp</b>.</p>
<p>Similarly, The Open-MPI version of the code can be compiled using: </p><pre class="fragment">make DDmpi
</pre><p> This creates the executable <b>DDmpi</b>. Compiling the Open-MPI version requires the <a class="el" href="openmpi.html">open-MPI</a> be correctly installed in your system.</p>
<p>The Makefile can also be used to build some other utilities:</p><ul>
<li>The <a class="el" href="_d_d_visualization.html">The Dislocation Dynamics Viewer</a></li>
<li>The <a class="el" href="_d_d_converter.html">DDconverter</a></li>
<li>The <a class="el" href="_d_d_dipole_generator.html">dipoleGenerator</a></li>
</ul>
<h1><a class="anchor" id="FRsource_run"></a>
Running DDomp and DDmpi</h1>
<p>The Open-MP version of the code can be run executing: </p><pre class="fragment">./DDomp
</pre><p>On the other hand, the parallel version of the code can be run executing: </p><pre class="fragment">mpirun -np N DDmpi
</pre><p> where <b>N</b> is the number of processors to be used.</p>
<p>Running the code produces a series of output files. If you want to visualize the output jump to the next tutorial, where you learn how to use <a class="el" href="_d_d_visualization.html">The Dislocation Dynamics Viewer</a>.</p>
<h1><a class="anchor" id="FRsource_input"></a>
Input files</h1>
<p>The first thing that a <a class="el" href="classmodel_1_1_dislocation_network.html">DislocationNetwork</a> does is to read the some input files. These files are:</p><ul>
<li>the <a class="el" href="_d_d_vertex.html">Dislocation Vertex file</a> V/V_0.txt</li>
<li>the <a class="el" href="_d_d_edge.html">Dislocation Edge file</a> E/E_0.txt</li>
<li>the configuration file DDinput.txt</li>
</ul>
<h1><a class="anchor" id="FRsource_output"></a>
Output files</h1>
<p>In MODEL, code outputs are highly customizable. However, two standard outputs are always generated because they are needed for visualization and restart purposes. These are the vertex files and the edge files. These files are stored in different folders (the "V" folder and the "E" folder, respectively), and are numbered according to the simulation time step. For example, the 114-th simulation time step generates the following files:</p><ul>
<li>V/V_114.txt</li>
<li>E/E_114.txt</li>
</ul>
<p>These files have the exact same format of the files V/V_0.txt and E/E_0.txt that have been used as inputs. In fact, any output file can be used as an input file. To (re)start a simulation at a specific time step, say 114, change the parameter <b>startAtTimeStep</b> in DDinput.txt: </p><pre class="fragment">startAtTimeStep = 114;
</pre><p>The frequency of output can easily be set by the variable <b>outputFrequency</b> in <b>DDinput.txt</b>. For example, setting </p><pre class="fragment">outputFrequency=7;
</pre><p> will force the code to output files every 7 time simulation steps.</p>
<p>Other standard output files can optionally be generated by turning on some flags in DDinput.txt. These flags are: </p><pre class="fragment">outputGlidePlanes=1;
outputSpatialCells=1;
outputPKforce=1;
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 2 2019 16:34:49 for Mechanics of Defect Evolution Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
